import React, { useRef } from 'react';
import { useUserContext } from './userContext';
import { Redirect } from 'react-router-dom';

const SignUp = ({user}) => {


     const emailRef = useRef();
     const passwordRef = useRef();
     const nameRef = useRef();

     const { registerUser } = useUserContext();

     const onSubmit = (e) => {
          e.preventDefault();
          const email = emailRef.current.value;
          const password = passwordRef.current.value;
          const name = nameRef.current.value;
          if(email && name && password) registerUser(email, name, password)
     }

     if(user) return <Redirect to='/alumni' />

     return (
          <div className='container'>
               <form className='white' onSubmit={onSubmit}>
                    <h5>Sign Up</h5>
                    <div className='input-field'>
                         <label htmlFor="email">Email</label>
                         <input type="email" id='email' ref={emailRef} autoComplete='off'/>
                    </div>
                    <div className='input-field'>
                         <label htmlFor="password">Password</label>
                         <input type="password" id='password' ref={passwordRef}  />
                    </div>
                    <div className='input-field'>
                         <label htmlFor="name">Name</label>
                         <input type="name" id='name' ref={nameRef}  autoComplete='off' />
                    </div>
                    <div className='input-field'>
                         <button className='btn pink lighten-1 z-depth-0'>LOGIN</button>
                    </div>
                    
               </form>
          </div>
     )
}

export default SignUp;
